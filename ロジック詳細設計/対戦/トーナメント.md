# トーナメント  
## 概要  
大会を作成する場合に、試合の形式として選択することができる.  
公式戦と練習試合を作成する際には選択することはできない.  
参加チーム数、参加者数は2のn乗に限定する。  
  
## 処理フロー  
### 参加チーム数または参加プレイヤー数を決定  
主催者：  
募集期間を過ぎた場合、または主催者が締切ボタンを押下したタイミングで参加チーム、参加者を確定する。  
人数が揃わないなどした場合は、このタイミングで開催を中止することも可能。  
　　
### 対戦数を決定  
主催者：  
確定された参加チームまたはプレイヤーの数を参照し、優勝を決めるまでに必要な対戦の数を確定する。  
  
### 初戦をセッティング  
主催者：
1回戦目の組み合わせを確定させる。  
  
### 初戦の結果を確定  
参加チーム、参加者：  
1回戦目の結果を全参加チーム、参加者が入力をし、勝敗を確定させる。  
  
主催者：  
参加者が結果を入力しない場合や正しい結果を入力しなかった場合は、主催者が強制的に結果を確定させる。  
  
> 以降、優勝チームまたは優勝者が決まるまで以下の処理を繰り返す
  
### 次の対戦をセッティング  
主催者：  
試合結果が勝利のチームのみを選択可能とし、次の対戦の組み合わせを確定させる。  
  
### 次戦の結果を確定  
参加チーム、参加者：  
次戦の結果を全参加チーム、参加者が入力をし、勝敗を確定させる。  
  
主催者：  
参加者が結果を入力しない場合や正しい結果を入力しなかった場合は、主催者が強制的に結果を確定させる。  
  
> 繰り返し終了  
  
### 優勝者以外も決める場合、その為に必要な対戦をセッティングする  
試合結果が勝利のチームのみを選択可能とし、対戦の組み合わせを確定させる。  
3位までを上限とする。  
  
---
  
## ロジック  
### 対戦数の確定  
2のn乗 / 2 = 1回戦目の試合数  
1回戦目の試合数 / 2 = 2回戦目の試合数  
  
これを繰り返していき、商が1になった段階で計算を止める。  
全ての商を合計した値がトーナメントで必要になる対戦数となる。  